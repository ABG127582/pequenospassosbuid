

/* General Styles (Base do seu Dash board.html e Saudefisica1.html) */
:root {
    /* Updated color palette based on user study */
    --color-fisica: #20C960; /* Verde: Vitalidade, Cura, Natureza */
    --color-fisica-rgb: 32, 201, 96;
    --color-mental: #28B4FF; /* Azul: Calma, Clareza, Serenidade */
    --color-mental-rgb: 40, 180, 255;
    --color-financeira: #FFD700; /* Dourado: Prosperidade, Valor, Segurança */
    --color-financeira-rgb: 255, 215, 0;
    --color-profissional: #008080; /* Teal: Profissionalismo, Crescimento, Sabedoria */
    --color-profissional-rgb: 0, 128, 128;
    --color-social: #A060FF; /* Roxo Ametista: Sociabilidade, Comunidade, Criatividade */
    --color-social-rgb: 160, 96, 255;
    --color-espiritual: #8A2BE2; /* Azul Violeta: Espiritualidade, Intuição, Transcendência */
    --color-espiritual-rgb: 138, 43, 226;
    --color-inicio: #5A5A5A; /* Grafite: Base, Neutralidade (Usado para Avaliação) */
    --color-inicio-rgb: 90, 90, 90;
    
    /* Cores Específicas Solicitadas */
    --color-video-livro: #FF0000; /* Vermelho YouTube */
    --color-video-livro-rgb: 255, 0, 0;
    --color-preventiva: #005F57; /* Verde Petróleo */
    --color-preventiva-rgb: 0, 95, 87;
    --color-familiar: #E53935; /* Vermelho */
    --color-familiar-rgb: 229, 57, 53;
    --color-tarefas: #708090; /* SlateGray - Cinza Ardósia para Tarefas */
    --color-tarefas-rgb: 112, 128, 144;
    --color-planejamento: #FFB74D; /* Laranja Claro */
    --color-planejamento-rgb: 255, 183, 77;

    /* Cores padrão para componentes e alertas */
    --color-primary: #007bff; /* Azul primário Bootstrap-like */
    --color-primary-rgb: 0, 123, 255;
    --color-secondary: #6c757d; /* Cinza secundário */
    --color-success: #28a745; /* Verde sucesso */
    --color-error: #dc3545;   /* Vermelho erro */
    --color-error-rgb: 220, 53, 69; /* RGB for error color */
    --color-warning: #ffc107; /* Amarelo aviso */
    --color-warning-rgb: 255, 193, 7;
    --color-info: #17a2b8;    /* Azul informação */

    /* Cores de Texto */
    --text-color: #333;
    --text-color-light: #f8f9fa; /* Branco/Cinza muito claro */
    --text-color-muted: #6c757d;
    --link-color: var(--color-primary);
    --link-hover-color: #0056b3;

    /* Cores de Fundo */
    --background-color: #f4f7f6; /* Um cinza muito claro, quase branco */
    --background-color-dark: #2c3e50; /* Um azul escuro/cinza para modo escuro */
    --card-background-color: #ffffff;
    --card-background-color-dark: #34495e;
    --sidebar-background: #34495e;
    --sidebar-background-dark: #212f3d;

    /* Sombras e Bordas */
    --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    --card-border-radius: 8px;
    --border-color: #dee2e6;
    --border-color-dark: #455a64;

    /* Tipografia */
    --font-family-sans-serif: 'Roboto', -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;
    --font-size-base: 1rem; /* 16px */
    --font-size-lg: 1.25rem;
    --font-size-sm: 0.875rem;
    --font-weight-normal: 400;
    --font-weight-bold: 700;
    --line-height-base: 1.6;

    /* Outros */
    --sidebar-width: 250px;
    --sidebar-width-collapsed: 60px;
    --transition-speed: 0.3s;
}

/* Dark theme overrides */
html.dark-mode {
    --color-primary: #4dabf7; /* Lighter blue for better contrast with white text */
    --color-primary-rgb: 77, 171, 247;
    --color-error: #e57373; /* Lighter red for better contrast with white text */
    --color-error-rgb: 229, 115, 115;
    --text-color: #f8f9fa;
    --text-color-muted: #adb5bd;
    --background-color: var(--background-color-dark);
    --card-background-color: var(--card-background-color-dark); /* Usado para modais, etc. */
    --sidebar-background: var(--sidebar-background-dark);
    --border-color: var(--border-color-dark);
    --link-color: #64b5f6; /* Um azul mais claro para links no tema escuro */
    --link-hover-color: #90caf9;
}


/* Reset e Base */
*, *::before, *::after { box-sizing: border-box; }
html { 
    scroll-behavior: smooth;
    background-color: var(--background-color); /* Garante que o fundo da página html tenha cor */
    color: var(--text-color); /* Garante cor de texto base para html */
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}
body {
    font-family: var(--font-family-sans-serif);
    line-height: var(--line-height-base);
    color: var(--text-color);
    background-color: var(--background-color);
    margin: 0;
    padding: 0;
    display: flex;
    min-height: 100vh;
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}

/* Tipografia Geral */
h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
    margin-bottom: 0.75rem;
    font-weight: var(--font-weight-bold);
    color: inherit; 
}
h1 { font-size: 2.25rem; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }
p { margin-top: 0; margin-bottom: 1rem; }
a {
    color: var(--link-color);
    text-decoration: none;
    transition: color var(--transition-speed) ease;
}
a:hover {
    color: var(--link-hover-color);
    text-decoration: underline;
}
ul, ol {
    padding-left: 20px;
    margin-bottom: 1rem;
}

/* Container Principal */
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Estilos de Cabeçalho das Páginas */
.page-section header {
    padding: 20px 0;
    margin-bottom: 25px;
    border-bottom: 2px solid var(--border-color);
    text-align: center;
}
.page-section header h1 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--section-color, var(--color-primary)); 
}
.food-page-header h1 {
    color: var(--color-fisica);
}


/* Sidebar */
.sidebar {
    width: var(--sidebar-width);
    min-width: var(--sidebar-width);
    background-color: var(--sidebar-background);
    color: var(--text-color-light);
    padding: 15px 0;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    z-index: 1010; 
    overflow-y: auto;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
}
.sidebar.collapsed {
    width: var(--sidebar-width-collapsed);
    min-width: var(--sidebar-width-collapsed);
}
.sidebar.collapsed .sidebar-text {
    display: none;
}
.sidebar.collapsed .sidebar-toggle-button {
    justify-content: center;
}
.sidebar.collapsed .sidebar-links .sidebar-link i {
    margin-right: 0; 
}
.sidebar-toggle-button {
    background: none;
    border: none;
    color: var(--text-color-light);
    font-size: 1.5rem;
    padding: 10px 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    width: 100%;
    margin-bottom: 15px;
    transition: background-color var(--transition-speed) ease;
}
.sidebar-toggle-button:hover {
    background-color: rgba(255,255,255,0.1);
}
.sidebar-toggle-button i {
    margin-right: 10px;
}
.sidebar-links {
    list-style: none;
    padding: 0;
    margin: 0;
}
.sidebar-links .sidebar-link {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: var(--text-color-light);
    text-decoration: none;
    font-size: 1rem;
    white-space: nowrap;
    transition: background-color var(--transition-speed) ease, padding-left var(--transition-speed) ease;
}
.sidebar-links .sidebar-link:hover {
    background-color: rgba(255,255,255,0.15);
    padding-left: 25px;
}
.sidebar-links .sidebar-link i {
    margin-right: 15px;
    width: 20px; 
    text-align: center;
}
.sidebar-links .sidebar-link.active {
    font-weight: var(--font-weight-bold);
    border-left: 4px solid;
    padding-left: 16px; 
}
.sidebar-link.active.fisica { border-left-color: var(--color-fisica); background-color: rgba(var(--color-fisica-rgb), 0.2); }
.sidebar-link.active.mental { border-left-color: var(--color-mental); background-color: rgba(var(--color-mental-rgb), 0.2); }
.sidebar-link.active.financeira { border-left-color: var(--color-financeira); background-color: rgba(var(--color-financeira-rgb), 0.2); }
.sidebar-link.active.familiar { border-left-color: var(--color-familiar); background-color: rgba(var(--color-familiar-rgb), 0.2); }
.sidebar-link.active.profissional { border-left-color: var(--color-profissional); background-color: rgba(var(--color-profissional-rgb), 0.2); }
.sidebar-link.active.social { border-left-color: var(--color-social); background-color: rgba(var(--color-social-rgb), 0.2); }
.sidebar-link.active.espiritual { border-left-color: var(--color-espiritual); background-color: rgba(var(--color-espiritual-rgb), 0.2); }
.sidebar-link.active.preventiva { border-left-color: var(--color-preventiva); background-color: rgba(var(--color-preventiva-rgb), 0.2); }
.sidebar-link.active.inicio { border-left-color: var(--color-inicio); background-color: rgba(var(--color-inicio-rgb), 0.2); }
.sidebar-link.active.planejamento-diario { border-left-color: var(--color-planejamento); background-color: rgba(var(--color-planejamento-rgb),0.2); }
.sidebar-link.active.tarefas-card { border-left-color: var(--color-tarefas); background-color: rgba(var(--color-tarefas-rgb),0.2); } 

/* Sidebar Search */
.sidebar-search-container {
    position: relative;
    padding: 0 15px 15px 15px;
}
.sidebar-search-container .search-icon {
    position: absolute;
    top: 50%;
    left: 28px;
    transform: translateY(-50%);
    color: var(--text-color-muted);
    pointer-events: none;
    transition: left 0.3s ease;
}
#sidebar-search {
    width: 100%;
    padding: 8px 10px 8px 35px; /* Padding for icon */
    background-color: rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px;
    color: var(--text-color-light);
    font-size: 0.9rem;
    transition: all var(--transition-speed) ease;
}
#sidebar-search::placeholder {
    color: var(--text-color-muted);
    transition: color 0.3s ease;
}
#sidebar-search:focus {
    outline: none;
    background-color: rgba(0,0,0,0.3);
    border-color: var(--color-primary);
}
.sidebar.collapsed .sidebar-search-container {
    padding: 0 10px 15px 10px;
}
.sidebar.collapsed #sidebar-search {
    padding-left: 30px; /* keep space for icon */
}
.sidebar.collapsed #sidebar-search::placeholder {
    color: transparent;
    user-select: none;
}
.sidebar.collapsed .sidebar-search-container .search-icon {
    left: 20px; /* adjust position for collapsed state */
}
.sidebar-no-results {
    padding: 12px 20px;
    color: var(--text-color-muted);
    font-style: italic;
    display: none; /* Controlled by JS */
}
.sidebar.collapsed .sidebar-no-results .sidebar-text {
    display: none;
}


/* Conteúdo Principal */
#main-content {
    flex-grow: 1;
    padding: 20px;
    margin-left: var(--sidebar-width);
    width: calc(100% - var(--sidebar-width));
    position: relative; 
}
body.sidebar-collapsed #main-content {
    margin-left: var(--sidebar-width-collapsed);
    width: calc(100% - var(--sidebar-width-collapsed));
}

/* Page Sections */
.page-section {
    display: none; /* Hidden by default, JS will show active page */
    animation: fadeIn 0.5s ease-in-out;
    padding-bottom: 60px; /* Space for footer */
}
.page-section.active {
    display: block;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Estilos da Página Inicial (Menu de Cartões) */
.inicio {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    padding: 20px 0;
}
.saude-card {
    --card-bg-color: var(--color-primary); /* Fallback, será sobrescrito */
    background-color: var(--card-bg-color);
    color: var(--text-color-light); /* Texto branco para todos os cartões */
    padding: 25px;
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-shadow);
    text-align: center;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 180px; /* Altura mínima para consistência */
    text-decoration: none; /* Para os cartões que são links */
}
.saude-card:hover, .saude-card:focus-visible {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    color: var(--text-color-light); /* Mantém o texto branco no hover para links */
    text-decoration: none; /* Remove o sublinhado no hover para links */
}
.saude-card h3 {
    font-size: 1.4rem;
    margin-bottom: 10px;
    color: var(--text-color-light); /* Garantir que o título seja branco */
}
.saude-card h3 i {
    margin-right: 8px;
}
.saude-card .card-description {
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--text-color-light); /* Garantir que a descrição seja branca */
    margin-bottom: 0;
}

/* Cores específicas para os cartões */
.saude-card.fisica { --card-bg-color: var(--color-fisica); }
.saude-card.mental { --card-bg-color: var(--color-mental); }
.saude-card.financeira { --card-bg-color: var(--color-financeira); }
.saude-card.familiar { --card-bg-color: var(--color-familiar); }
.saude-card.profissional { --card-bg-color: var(--color-profissional); }
.saude-card.social { --card-bg-color: var(--color-social); }
.saude-card.espiritual { --card-bg-color: var(--color-espiritual); }
.saude-card.preventiva { --card-bg-color: var(--color-preventiva); }
.saude-card.video-livro { --card-bg-color: var(--color-video-livro); }
.saude-card.avaliacao-card { --card-bg-color: var(--color-inicio); } /* Cor cinza/grafite */
.saude-card.tarefas-card { --card-bg-color: var(--color-tarefas); }
.saude-card.planejamento-card { --card-bg-color: var(--color-planejamento); }


/* Estilos Comuns para Seções de Conteúdo */
.content-section {
    background-color: var(--card-background-color);
    padding: 25px;
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-shadow);
    margin-bottom: 30px;
}
.content-section .section-title {
    font-size: 1.6rem;
    color: var(--section-color, var(--color-primary));
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border-color);
}
/* Cores dinâmicas para títulos de seção */
#page-fisica, #page-leitura-guia-fisica, #page-alongamento, [id^="page-food-"] { --section-color: var(--color-fisica); --section-color-rgb: var(--color-fisica-rgb); }
#page-mental, #page-leitura-guia-mental { --section-color: var(--color-mental); --section-color-rgb: var(--color-mental-rgb); }
#page-espiritual, #page-leitura-guia-espiritual { --section-color: var(--color-espiritual); --section-color-rgb: var(--color-espiritual-rgb); }
#page-preventiva { --section-color: var(--color-preventiva); --section-color-rgb: var(--color-preventiva-rgb); }
#page-financeira, #page-leitura-guia-financeira { --section-color: var(--color-financeira); --section-color-rgb: var(--color-financeira-rgb); }
#page-familiar, #page-leitura-guia-familiar { --section-color: var(--color-familiar); --section-color-rgb: var(--color-familiar-rgb); }
#page-profissional { --section-color: var(--color-profissional); --section-color-rgb: var(--color-profissional-rgb); }
#page-social { --section-color: var(--color-social); --section-color-rgb: var(--color-social-rgb); }
#page-tarefas { --section-color: var(--color-tarefas); --section-color-rgb: var(--color-tarefas-rgb); }
#page-planejamento-diario { --section-color: var(--color-planejamento); --section-color-rgb: var(--color-planejamento-rgb); }


/* Estilos de Formulários */
.form-section label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-color-muted);
}
.form-section input[type="text"],
.form-section input[type="number"],
.form-section input[type="date"],
.form-section input[type="time"],
.form-section textarea,
.form-section select {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
    transition: border-color var(--transition-speed) ease;
}
.form-section input[type="text"]:focus,
.form-section input[type="number"]:focus,
.form-section input[type="date"]:focus,
.form-section input[type="time"]:focus,
.form-section textarea:focus,
.form-section select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 0.2rem rgba(var(--color-primary-rgb), 0.25);
}
.form-section textarea {
    min-height: 150px; /* Increased from 100px */
    resize: vertical;
}

/* Botões */
.standard-button, .btn {
    padding: 10px 20px;
    font-size: 1rem;
    font-weight: 500;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    text-align: center;
    transition: background-color var(--transition-speed) ease, opacity var(--transition-speed) ease, transform var(--transition-speed) ease, filter var(--transition-speed) ease;
    background-color: var(--color-primary);
    color: var(--text-color-light);
    display: inline-flex; /* Para alinhar ícone e texto */
    align-items: center;
    justify-content: center;
    gap: 8px; /* Espaço entre ícone e texto */
}
.standard-button:hover, .btn:hover {
    filter: brightness(0.9);
    transform: translateY(-1px);
}
.standard-button:disabled, .btn:disabled {
    background-color: var(--color-secondary);
    cursor: not-allowed;
    opacity: 0.7;
}

/* Color buttons based on their section, overriding the default blue */
.page-section .standard-button:not(.back-button):not(.standard-button-secondary):not(.standard-button-danger) {
    background-color: var(--section-color, var(--color-primary));
}
/* Fix text color for light-background buttons to ensure contrast */
#page-financeira .standard-button:not(.back-button):not(.standard-button-secondary):not(.standard-button-danger),
#page-planejamento-diario .standard-button:not(.back-button):not(.standard-button-secondary):not(.standard-button-danger) {
    color: var(--text-color);
}


/* Variações de Botões */
.standard-button-secondary, .btn-outline {
    background-color: transparent;
    color: var(--color-primary);
    border: 1px solid var(--color-primary);
}
.standard-button-secondary:hover, .btn-outline:hover {
    background-color: rgba(var(--color-primary-rgb), 0.1);
    filter: none; /* Reset filter for this type */
}

.standard-button-danger {
    background-color: var(--color-error);
    color: var(--text-color-light);
}
.standard-button-danger:hover {
    filter: brightness(0.9);
}

.small-button {
    padding: 6px 12px;
    font-size: 0.875rem;
}

.back-button-wrapper {
    margin-top: 30px;
    text-align: center;
}
.back-button {
    background-color: var(--color-secondary);
}
.back-button:hover {
    filter: brightness(0.9);
}


/* Listas de Planejamento (Metas, Atividades) */
.lista-planejamento {
    list-style: none;
    padding: 0;
    margin-top: 20px;
}
.lista-planejamento li {
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.05);
    padding: 15px;
    border-radius: var(--card-border-radius);
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color var(--transition-speed) ease;
    border: 1px solid var(--border-color);
}
.lista-planejamento li:hover {
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.1);
}
.lista-planejamento li.completed .item-text {
    text-decoration: line-through;
    color: var(--text-color-muted);
}
.lista-planejamento .item-text {
    flex-grow: 1;
    cursor: pointer;
    font-size: 1.05rem;
}
.lista-planejamento .item-actions button {
    background: none;
    border: none;
    color: var(--text-color-muted);
    font-size: 1.1rem;
    margin-left: 10px;
    cursor: pointer;
    padding: 5px;
    transition: color var(--transition-speed) ease;
}
.lista-planejamento .item-actions button:hover {
    color: var(--section-color, var(--color-primary));
}
.lista-planejamento .item-actions .delete-btn:hover {
    color: var(--color-error);
}
.lista-planejamento .item-actions .complete-btn.completed i {
    color: var(--color-success);
}
.empty-list-placeholder {
    text-align: center;
    color: var(--text-color-muted);
    padding: 20px;
    font-style: italic;
}
.lista-planejamento .empty-list-item {
    background-color: transparent;
    border: none;
    justify-content: center;
    color: var(--text-color-muted);
    font-style: italic;
}
.lista-planejamento .empty-list-item:hover {
    background-color: transparent;
}

/* Checklist de Práticas Diárias */
.daily-practices-list {
    list-style: none;
    padding: 0;
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.daily-practices-list li label {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--card-border-radius);
    cursor: pointer;
    transition: background-color 0.2s;
}
.daily-practices-list li label:hover {
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.1);
}
.daily-practices-list li input[type="checkbox"] {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    accent-color: var(--section-color, var(--color-primary));
}
.daily-practices-list li input[type="checkbox"]:checked + span {
    text-decoration: line-through;
    color: var(--text-color-muted);
}


/* Estilos para seções PDCA Integradas */
.pdca-integrated-section {
    border-left: 5px solid var(--section-color, var(--color-primary));
}
.pdca-integrated-section header {
    padding: 0; 
    margin-bottom: 15px; 
    border-bottom: none; 
    text-align: left; 
}
.pdca-integrated-section .section-title {
    border-bottom: none; 
    padding-bottom: 0;
    margin-bottom: 5px;
}
.pdca-integrated-section .subtitle {
    font-size: 0.95rem;
    color: var(--text-color-muted);
    margin-bottom: 20px;
}
.pdca-step {
    margin-bottom: 25px;
    padding: 15px;
    border: 1px solid var(--border-color);
    border-radius: var(--card-border-radius);
    background-color: rgba(0,0,0,0.02); 
}
html.dark-mode .pdca-step {
    background-color: rgba(255,255,255,0.03);
}
.pdca-step h3 {
    font-size: 1.3rem;
    color: var(--section-color, var(--color-primary));
    margin-bottom: 10px;
}
.pdca-step h3 i {
    margin-right: 8px;
}
.pdca-step label {
    display: block; 
    margin-top: 10px;
    margin-bottom: 8px; 
    font-weight: 500; 
    color: var(--text-color-muted); 
}
.pdca-step textarea {
    width: 100%; 
    padding: 12px; 
    border: 1px solid var(--border-color); 
    border-radius: 4px; 
    min-height: 150px; 
    resize: vertical;
    margin-top: 0; 
    margin-bottom: 10px; 
    background-color: var(--card-background-color); 
    color: var(--text-color); 
    font-size: 1rem; 
}
.pdca-step textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 0.2rem rgba(var(--color-primary-rgb), 0.25);
}
.pdca-step p {
    font-size: 0.95rem;
    line-height: 1.7;
}
.pdca-item {
    margin-top: 15px;
    padding: 10px;
    border-left: 3px solid rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.5);
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.03);
    border-radius: 0 4px 4px 0;
}
.pdca-item h4 {
    font-size: 1.1rem;
    margin-bottom: 5px;
    color: var(--section-color, var(--color-primary));
}
.pdca-item p {
    font-size: 0.9rem;
    margin-bottom: 0;
}
.pdca-item em {
    font-weight: 500;
}


/* Seção de Recursos */
.resources-section {
    border-top: 2px dashed var(--border-color);
    margin-top: 30px;
    padding-top: 25px;
}
.recursos-list {
    list-style: none;
    padding: 0;
}
.recursos-list li {
    margin-bottom: 10px;
}
.recursos-list li a::before {
    content: "\f0c1"; /* Font Awesome link icon */
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    margin-right: 8px;
    color: var(--link-color);
}

/* Estilos para Recursos Gerados por IA */
.ai-resources-container {
    margin-top: 15px;
    padding: 15px;
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.05);
    border-radius: var(--card-border-radius);
    border: 1px solid var(--border-color);
}
.ai-resources-container p {
    margin-bottom: 15px;
}
.ai-sources-list h5 {
    font-size: 0.9rem;
    color: var(--text-color-muted);
    margin-bottom: 8px;
    margin-top: 0;
    border-top: 1px dashed var(--border-color);
    padding-top: 10px;
}
.ai-sources-list ul {
    list-style-type: disc;
    padding-left: 20px;
    margin: 0;
    font-size: 0.85rem;
}
.ai-sources-list li {
    margin-bottom: 5px;
}


/* Rodapé */
footer {
    text-align: center;
    padding: 20px;
    margin-top: 40px;
    font-size: 0.9rem;
    color: var(--text-color-muted);
    border-top: 1px solid var(--border-color);
}


/* Modals */
.modal-container { /* Overlay */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: none; /* Changed from flex */
    justify-content: center;
    align-items: center;
    z-index: 1050; /* Higher than sidebar */
    opacity: 0;
    transition: opacity 0.3s ease;
}
.modal-container.visible {
    display: flex;
    opacity: 1;
}
.modal-content {
    background-color: var(--card-background-color);
    padding: 25px;
    border-radius: var(--card-border-radius);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    transform: scale(0.95);
    transition: transform 0.3s ease;
}
.modal-container.visible .modal-content {
    transform: scale(1);
}
.large-modal-content {
    max-width: 800px; /* For contract modal */
}
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 15px;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
}
.modal-header h2 {
    margin: 0;
    font-size: 1.5rem;
    color: var(--text-color);
}
.modal-close-button {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--text-color-muted);
    cursor: pointer;
    padding: 5px;
}
.modal-close-button:hover {
    color: var(--color-error);
}
.modal-body {
    overflow-y: auto;
    flex-grow: 1; /* Allows body to take available space and scroll */
    padding-right: 10px; /* Space for scrollbar */
}
/* Custom scrollbar for modal body */
.modal-body::-webkit-scrollbar {
    width: 8px;
}
.modal-body::-webkit-scrollbar-track {
    background: var(--background-color);
    border-radius: 4px;
}
.modal-body::-webkit-scrollbar-thumb {
    background: var(--color-secondary);
    border-radius: 4px;
}
.modal-body::-webkit-scrollbar-thumb:hover {
    background: #555;
}

.modal-footer {
    padding-top: 20px;
    margin-top: 20px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}
.modal-footer .standard-button,
.modal-footer .standard-button-secondary {
    min-width: 100px;
}

/* Floating Action Buttons (FABs) */
.fab-button {
    position: fixed;
    bottom: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: var(--color-primary);
    color: white;
    border: none;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    font-size: 1.5rem;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 1000;
    transition: background-color var(--transition-speed), transform var(--transition-speed), filter var(--transition-speed);
}
.fab-button:hover {
    transform: scale(1.1);
}
.theme-toggle-button {
    right: 20px;
    background-color: var(--color-secondary);
}
.theme-toggle-button:hover {
    filter: brightness(0.9);
}
.rain-sound-button {
    left: calc(var(--sidebar-width) + 20px); /* Adjust based on sidebar */
    bottom: 20px;
    background-color: var(--color-mental);
}
.rain-sound-button:hover {
    filter: brightness(0.9);
}
body.sidebar-collapsed .rain-sound-button {
    left: calc(var(--sidebar-width-collapsed) + 20px);
}
@media (max-width: 768px) {
    .rain-sound-button {
        left: 15px; /* Position for mobile when sidebar might be overlay or hidden */
    }
}


/* Toast Notifications */
#toast-notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 2000; /* Above everything */
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.toast-notification {
    background-color: var(--card-background-color);
    color: var(--text-color);
    padding: 15px 20px;
    border-radius: var(--card-border-radius);
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border-left: 5px solid var(--color-info);
    opacity: 0;
    transform: translateX(100%);
    transition: opacity 0.5s ease, transform 0.5s ease;
    min-width: 250px;
    max-width: 350px;
}
.toast-notification.show {
    opacity: 1;
    transform: translateX(0);
}
.toast-notification.success { border-left-color: var(--color-success); }
.toast-notification.error { border-left-color: var(--color-error); }
.toast-notification.warning { border-left-color: var(--color-warning); }
.toast-notification.info { border-left-color: var(--color-info); }


/* Input com wrapper para microfone e IA */
.input-wrapper {
    position: relative;
    display: flex;
    width: 100%;
}
.input-wrapper input,
.input-wrapper textarea {
    flex-grow: 1;
    padding-right: 45px !important; /* Space for AI button */
}
.input-wrapper.textarea-wrapper {
    align-items: flex-start;
}
.ai-suggestion-btn {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--section-color, var(--color-mental));
    font-size: 1.1rem;
    cursor: pointer;
    padding: 8px;
    line-height: 1;
    z-index: 5;
    transition: color 0.2s, transform 0.2s, filter 0.2s;
}
.input-wrapper.textarea-wrapper .ai-suggestion-btn {
    top: 12px;
    transform: translateY(0);
}
.ai-suggestion-btn:hover {
    filter: brightness(0.8);
    transform: translateY(-50%) scale(1.1);
}
.input-wrapper.textarea-wrapper .ai-suggestion-btn:hover {
    transform: scale(1.1);
}
.ai-suggestion-btn:disabled {
    cursor: not-allowed;
    color: var(--text-color-muted);
}
.ai-suggestion-btn .fa-wand-magic-sparkles {
    display: inline-block;
}
.ai-suggestion-btn.loading .fa-wand-magic-sparkles {
    display: none;
}
.ai-suggestion-btn .fa-spinner {
    display: none;
}
.ai-suggestion-btn.loading .fa-spinner {
    display: inline-block;
    animation: spin 1.5s infinite linear;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.input-mic-wrapper {
    position: relative;
    display: flex;
    align-items: center; /* Vertical alignment */
}
.input-mic-wrapper input[type="text"],
.input-mic-wrapper input[type="number"],
.input-mic-wrapper textarea {
    flex-grow: 1;
    padding-right: 40px; /* Espaço para o botão do microfone */
    margin-bottom: 0; 
}
.input-mic-wrapper.textarea-wrapper {
    align-items: flex-start; /* Align to top for textareas */
}
.input-mic-wrapper.textarea-wrapper textarea {
    min-height: 45px; /* Ensure enough height for button */
}
.mic-button {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-color-muted);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 8px;
    line-height: 1; 
    transition: color 0.2s;
}
.input-mic-wrapper.textarea-wrapper .mic-button {
    top: 10px; 
    transform: translateY(0);
}
.planner-mic-wrapper textarea {
    min-height: 40px; 
    padding-top: 8px; 
    padding-bottom: 8px;
}
.planner-mic-wrapper .mic-button {
    top: 50%;
    transform: translateY(-50%);
    padding: 6px; 
}

.mic-button:hover {
    color: var(--color-primary);
}
.mic-button.listening {
    color: var(--color-error);
}
.mic-button i {
    display: block; 
}

/* Planejamento Diário Styles */
#page-planejamento-diario .daily-plan-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-color);
}
#page-planejamento-diario .daily-plan-header h1 {
    margin: 0;
    color: var(--color-planejamento);
}
#page-planejamento-diario .daily-plan-controls {
    display: flex;
    align-items: center;
    gap: 15px;
}
#daily-plan-date {
    padding: 8px 10px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.95rem;
}
.daily-plan-layout {
    display: grid;
    grid-template-columns: 1fr; /* Default to single column */
    gap: 25px;
}
@media (min-width: 992px) { 
    .daily-plan-layout {
        /* grid-template-columns: 2fr 1fr; Example for two columns */
    }
}
#daily-tasks-section .section-header-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}
#daily-tasks-section .section-header-controls .controls {
    display: flex;
    align-items: center;
    gap: 15px;
}
.task-list-diario {
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.daily-task-item {
    background-color: var(--card-background-color); 
    padding: 15px;
    border-radius: var(--card-border-radius);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 10px;
    transition: box-shadow 0.2s;
}
.daily-task-item:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.daily-task-item.mit {
    border-left: 5px solid var(--color-warning);
}
.daily-task-item.completed {
    opacity: 0.7;
}
.daily-task-item.completed .task-description,
.daily-task-item.completed .task-intention {
    text-decoration: line-through;
    color: var(--text-color-muted);
}
.task-main-info {
    display: flex;
    align-items: center;
    gap: 10px;
}
.task-status-toggle {
    background: none;
    border: none;
    font-size: 1.3rem;
    color: var(--text-color-muted);
    cursor: pointer;
    padding: 5px;
}
.task-status-toggle:hover { color: var(--color-primary); }
.daily-task-item.completed .task-status-toggle i { color: var(--color-success); }
.daily-task-item.in-progress .task-status-toggle i { color: var(--color-info); }

.task-time {
    padding: 6px 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.9rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
.task-description-wrapper, .task-intention-wrapper {
    flex-grow: 1;
}
.task-description, .task-intention {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    resize: none; 
    overflow-y: hidden; 
    background-color: var(--card-background-color);
    color: var(--text-color);
    transition: border-color 0.2s;
}
.task-description:focus, .task-intention:focus {
    outline: none;
    border-color: var(--color-planejamento);
}
.task-actions {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-left: auto; 
    padding-left: 10px; 
}
.task-mit-toggle {
    padding: 6px 10px;
    font-weight: bold;
    border: 1px solid var(--color-warning);
    color: var(--color-warning);
    background-color: transparent;
    border-radius: 4px;
    cursor: pointer;
}
.task-mit-toggle.active {
    background-color: var(--color-warning);
    color: white;
}
.mit-summary-text {
    font-style: italic;
    color: var(--text-color-muted);
    text-align: center;
    margin-bottom: 15px;
}

#daily-reflection {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    min-height: 150px; 
    resize: vertical;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
#daily-reflection:focus {
    outline: none;
    border-color: var(--color-planejamento);
}

.toggle-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 0.9rem;
    color: var(--text-color-muted);
}
.toggle-checkbox { display: none; }
.toggle-slider {
    width: 34px;
    height: 18px;
    background-color: var(--color-secondary);
    border-radius: 17px;
    position: relative;
    transition: background-color 0.3s;
    margin-right: 8px;
}
.toggle-slider::before {
    content: "";
    position: absolute;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background-color: white;
    top: 2px;
    left: 2px;
    transition: transform 0.3s;
}
.toggle-checkbox:checked + .toggle-slider {
    background-color: var(--color-planejamento);
}
.toggle-checkbox:checked + .toggle-slider::before {
    transform: translateX(16px);
}

/* Progress Ring SVG */
.progress-ring-container {
    position: relative;
    width: 60px;
    height: 60px;
}
#daily-progress-ring {
    transform: rotate(-90deg); /* Start from top */
}
.progress-ring-bg {
    fill: none;
    stroke: var(--border-color);
    stroke-width: 10; 
}
.progress-ring-fg {
    fill: none;
    stroke: var(--color-success);
    stroke-width: 12; 
    stroke-linecap: round; 
    transition: stroke-dashoffset 0.35s;
}
#progress-ring-text {
    font-size: 24px; 
    fill: var(--text-color);
    font-weight: bold;
    font-family: var(--font-family-sans-serif);
}

/* --- MAPA MENTAL ESPECÍFICO --- */
.mind-map-section summary {
    cursor: pointer;
    font-weight: 600;
    padding: 8px 0;
    display: flex;
    align-items: center;
    color: var(--section-color, var(--color-primary));
    font-size: 1.1rem;
}
.mind-map-section summary:hover {
    color: var(--link-hover-color);
}
.mind-map-section details {
    margin-left: 20px;
    border-left: 1px dashed var(--border-color);
    padding-left: 15px;
}
.mind-map-section details[open] > summary ~ * {
    animation: openDetail 0.5s ease-in-out;
}
@keyframes openDetail {
    from {
        opacity: 0;
        transform: translateY(-15px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.mind-map-section ul {
    list-style-type: none; 
    padding-left: 5px; 
}
.mind-map-section ul li {
    margin: 5px 0;
}
.mind-map-section .chevron {
    width: 1em;
    height: 1em;
    margin-right: 0.5em;
    transition: transform 0.2s ease-in-out;
    stroke: var(--section-color, var(--color-primary));
}
details[open] > summary .chevron {
    transform: rotate(90deg);
}

.mind-map-button {
    text-decoration: none;
    color: var(--text-color);
    padding: 3px 6px;
    border-radius: 3px;
    transition: background-color 0.2s, color 0.2s;
    font-size: 0.95rem;
}
.mind-map-button:hover {
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.1);
    color: var(--section-color, var(--color-primary));
    text-decoration: none;
}
.tooltip {
    position: relative;
}
.tooltip::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%; 
    left: 50%;
    transform: translateX(-50%) translateY(-5px); 
    background-color: #333;
    color: #fff;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8rem;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s, visibility 0.2s;
    z-index: 10;
}
.tooltip:hover::after {
    opacity: 1;
    visibility: visible;
}
.hydration-calculator-inline input,
.hydration-calculator-inline button,
.hydration-calculator-inline span {
    font-size: inherit !important; 
}

/* Estilos para lista de Alimentos Nutritivos */
.food-items-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); 
    gap: 8px;
    padding-left: 0; 
    list-style-type: none; 
}
.food-items-list li {
    margin: 0; 
}
.food-link {
    display: block;
    padding: 8px 10px;
    background-color: rgba(var(--color-fisica-rgb), 0.08); 
    border: 1px solid rgba(var(--color-fisica-rgb), 0.2);
    border-radius: var(--card-border-radius);
    text-decoration: none;
    color: var(--text-color);
    transition: background-color 0.2s ease, transform 0.2s ease;
    font-size: 0.9rem;
}
.food-link:hover {
    background-color: rgba(var(--color-fisica-rgb), 0.15);
    transform: translateY(-2px);
    color: var(--color-fisica);
}

/* Saúde Familiar - Linguagem do Amor */
.linguagem-item {
    margin-bottom: 20px;
    padding: 15px;
    border-left: 4px solid var(--color-familiar);
    background-color: rgba(var(--color-familiar-rgb), 0.05);
    border-radius: 0 var(--card-border-radius) var(--card-border-radius) 0;
}
.linguagem-item h3 {
    color: var(--color-familiar);
    font-size: 1.2rem;
    margin-bottom: 8px;
}
.linguagem-item p {
    font-size: 0.95rem;
    margin-bottom: 5px;
}
.linguagem-item p strong {
    font-weight: 600;
}

/* Estilos para a página de Saúde Preventiva (Menu e Subpáginas) */
.preventiva-header {
    display: flex;
    align-items: center;
    gap: 15px; 
}
#preventivaMainTitle { color: var(--color-preventiva); }

.preventiva-page { display: none; }
.preventiva-page.active { display: block; animation: fadeIn 0.5s ease-in-out; }

.menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}
.menu-item {
    background-color: var(--card-background-color);
    padding: 20px;
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-shadow);
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    border-left: 5px solid var(--color-preventiva);
}
.menu-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.12);
}
.menu-item .icon {
    font-size: 2.5rem;
    color: var(--color-preventiva);
    margin-bottom: 10px;
    display: block;
}
.menu-item h3 {
    font-size: 1.3rem;
    color: var(--text-color);
    margin: 0;
}

/* Tabela de Vacinas e Indicadores */
.table-responsive {
    overflow-x: auto;
    margin-top: 20px;
}
#tabela-vacinas, #tabela-historico-indicadores, #tabela-pdca-exemplo,
#tabela-espiritual-1, #tabela-espiritual-2, #tabela-espiritual-3,
#tabela-gottman-cavaleiros, #tabela-suplementos, .exercise-protocol-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}
#tabela-vacinas th, #tabela-vacinas td,
#tabela-historico-indicadores th, #tabela-historico-indicadores td,
#tabela-pdca-exemplo th, #tabela-pdca-exemplo td,
#tabela-espiritual-1 th, #tabela-espiritual-1 td,
#tabela-espiritual-2 th, #tabela-espiritual-2 td,
#tabela-espiritual-3 th, #tabela-espiritual-3 td,
#tabela-gottman-cavaleiros th, #tabela-gottman-cavaleiros td,
#tabela-suplementos th, #tabela-suplementos td,
.exercise-protocol-table th, .exercise-protocol-table td {
    padding: 10px 12px;
    border: 1px solid var(--border-color);
    text-align: left;
    vertical-align: middle;
}
#tabela-pdca-exemplo td,
#tabela-espiritual-1 td,
#tabela-espiritual-2 td,
#tabela-espiritual-3 td,
#tabela-gottman-cavaleiros td,
#tabela-suplementos td {
    vertical-align: top;
}
#tabela-vacinas thead th, #tabela-historico-indicadores thead th, #tabela-pdca-exemplo thead th,
#tabela-espiritual-1 thead th, #tabela-espiritual-2 thead th, #tabela-espiritual-3 thead th,
#tabela-gottman-cavaleiros thead th, #tabela-suplementos thead th, .exercise-protocol-table thead th {
    background-color: rgba(var(--color-preventiva-rgb), 0.1);
    color: var(--color-preventiva);
    font-weight: 600;
}
#page-leitura-guia-fisica #tabela-pdca-exemplo thead th {
     background-color: rgba(var(--color-fisica-rgb), 0.1);
    color: var(--color-fisica);
}
#page-fisica .exercise-protocol-table thead th {
    background-color: rgba(var(--color-fisica-rgb), 0.1);
    color: var(--color-fisica);
}
#page-leitura-guia-espiritual #tabela-espiritual-1 thead th,
#page-leitura-guia-espiritual #tabela-espiritual-2 thead th,
#page-leitura-guia-espiritual #tabela-espiritual-3 thead th {
    background-color: rgba(var(--color-espiritual-rgb), 0.1);
    color: var(--color-espiritual);
}
#page-leitura-guia-familiar #tabela-gottman-cavaleiros thead th {
    background-color: rgba(var(--color-familiar-rgb), 0.1);
    color: var(--color-familiar);
}


#tabela-vacinas caption, #tabela-historico-indicadores caption {
    caption-side: top;
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--text-color-muted);
    text-align: left;
}
.input-table-date {
    padding: 6px 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.9rem;
    max-width: 150px; /* Limit width */
    background-color: var(--card-background-color);
    color: var(--text-color);
}
.vaccine-status.status-ok { color: var(--color-success); font-weight: bold; }
.vaccine-status.status-pending { color: var(--color-warning); }
.vaccine-status.status-overdue { color: var(--color-error); font-weight: bold; }
.vaccine-status.status-partial { color: var(--color-info); }
.vaccine-status.status-check { color: var(--text-color-muted); }

/* Blueprint-Inspired Indicator Cards */
.indicator-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
}
.blueprint-indicator-card {
    background-color: var(--card-background-color);
    padding: 15px;
    border-radius: var(--card-border-radius);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.indicator-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.indicator-header h3 {
    font-size: 1.1rem;
    color: var(--color-preventiva);
    margin: 0;
}
.info-icon {
    color: var(--text-color-muted);
    cursor: help;
    position: relative;
}
.info-icon .tooltip-text {
    visibility: hidden;
    width: 220px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -110px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.8rem;
    font-weight: 400;
    pointer-events: none;
}
.info-icon:hover .tooltip-text, .info-icon:focus .tooltip-text {
    visibility: visible;
    opacity: 1;
}

.indicator-bar-container { margin-bottom: 5px; }
.indicator-bar {
    width: 100%; height: 12px;
    border-radius: 6px; position: relative;
    background: linear-gradient(to right, var(--color-success) 0%, var(--color-warning) 50%, var(--color-error) 100%);
}
.indicator-bar.reversed-gradient {
    background: linear-gradient(to right, var(--color-error) 0%, var(--color-warning) 50%, var(--color-success) 100%);
}
.indicator-bar .optimal-range {
    position: absolute;
    top: 0;
    height: 100%;
    background-color: rgba(0,0,0,0.15);
    border-radius: 6px;
    box-shadow: inset 0 0 2px rgba(0,0,0,0.2);
}
.indicator-bar .marker {
    position: absolute; top: -4px; width: 6px; height: 20px;
    background-color: var(--text-color); border-radius: 3px;
    transform: translateX(-50%);
    box-shadow: 0 0 3px rgba(0,0,0,0.5);
    z-index: 2;
    transition: left 0.5s ease-in-out;
}
html.dark-mode .indicator-bar .marker { background-color: var(--text-color-light); }
.indicator-labels { display: flex; justify-content: space-between; font-size: 0.8em; margin-top: 4px; color: var(--text-color-muted); padding: 0 5px; }
.indicator-labels .indicator-labels-optimal { font-weight: bold; color: var(--text-color); }
html.dark-mode .indicator-labels .indicator-labels-optimal { color: var(--text-color-light); }

.indicator-data { min-height: 3.5em; }
.interpretation { font-weight: bold; margin-top: 5px; min-height: 1.2em; font-size: 1rem;}
.interpretation.status-ok { color: var(--color-success); }
.interpretation.status-warning { color: var(--color-warning); }
.interpretation.status-overdue { color: var(--color-error); }
.interpretation.status-check { color: var(--text-color-muted); }
.suggestion { font-size: 0.85rem; color: var(--text-color-muted); margin-top: 3px; min-height: 1em; }

.indicator-input-group {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-top: auto; /* Pushes to the bottom */
    flex-wrap: wrap;
}
.indicator-input-group .indicator-value, .indicator-input-group .indicator-date {
    flex: 1;
    padding: 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.9rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
.indicator-input-group .update-button,
.indicator-input-group .history-button {
    flex-shrink: 0;
}
#indicator-chart-container {
    position: relative;
    height: 40vh;
    min-height: 250px;
}


/* Diagnósticos e Riscos */
.risk-item {
    padding: 15px;
    border: 1px solid var(--border-color);
    border-radius: var(--card-border-radius);
    margin-bottom: 15px;
    display: flex;
    flex-wrap: wrap; /* Allow details to wrap */
    align-items: center; /* Align toggle and label */
}
.risk-item > label:first-of-type { /* Main label for the diagnostic */
    font-weight: 600;
    cursor: pointer;
    margin-left: 10px;
    flex-grow: 1;
}
.risk-details {
    width: 100%;
    margin-top: 10px;
    padding-left: 35px; /* Indent details under toggle */
    display: none; /* Hidden by default, shown by JS/checkbox */
}
.risk-details label {
    font-size: 0.9rem;
    margin-top: 8px;
}
.risk-details input[type="text"],
.risk-details input[type="date"],
.risk-details textarea {
    font-size: 0.95rem;
    padding: 8px;
    margin-bottom: 8px;
    width: 100%;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
.risk-details textarea {
    min-height: 60px;
}
/* Toggle Switch for Diagnostics */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 40px; /* Smaller toggle */
    height: 20px;
}
.toggle-switch input { display: none; }
.toggle-switch label { /* The slider */
    position: absolute;
    cursor: pointer;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: var(--color-secondary);
    transition: .4s;
    border-radius: 20px;
}
.toggle-switch label:before { /* The knob */
    position: absolute;
    content: "";
    height: 14px; width: 14px;
    left: 3px; bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}
.toggle-switch input:checked + label { background-color: var(--color-preventiva); }
.toggle-switch input:checked + label:before { transform: translateX(20px); }

/* Protocolo Pessoal Section */
#tabela-suplementos input {
    width: 100%;
    padding: 6px 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.9rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
#add-supplement-form .form-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 2fr;
    gap: 15px;
    align-items: center;
    margin-bottom: 15px;
}
#add-supplement-form input {
    margin-bottom: 0;
}
@media (max-width: 992px) {
    #add-supplement-form .form-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
}
#tabela-suplementos .delete-supplement-btn {
    background: none;
    border: none;
    color: var(--text-color-muted);
    cursor: pointer;
    font-size: 1rem;
}
#tabela-suplementos .delete-supplement-btn:hover {
    color: var(--color-error);
}

/* --- SAÚDE FÍSICA - PROTOCOLO E MONITOREAMENTO --- */
.add-exercise-form { margin-top: 20px; }
.form-grid-exercise {
    display: grid;
    grid-template-columns: 3fr 1fr 2fr;
    gap: 15px;
    margin-bottom: 15px;
}
.exercise-protocol-table tr.completed {
    text-decoration: line-through;
    opacity: 0.6;
}
.exercise-protocol-table .action-btn {
    background: none; border: none; color: var(--text-color-muted);
    font-size: 1rem; cursor: pointer; padding: 5px;
    transition: color 0.2s;
}
.exercise-protocol-table .action-btn:hover { color: var(--color-error); }

.sleep-form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 2fr;
    gap: 15px;
    align-items: center;
    margin-bottom: 15px;
}
.last-entry-display {
    margin-top: 15px;
    padding: 10px;
    background-color: rgba(var(--color-fisica-rgb), 0.05);
    border-radius: var(--card-border-radius);
    border: 1px solid var(--border-color);
    font-size: 0.9rem;
    color: var(--text-color-muted);
}
.last-entry-display strong {
    color: var(--text-color);
}
.biomarkers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}
.biomarker-input-group label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9rem;
    font-weight: 500;
}
.biomarker-input-group input {
    width: 100%;
    padding: 8px;
    border-radius: 4px;
    border: 1px solid var(--border-color);
}
@media (max-width: 768px) {
    .form-grid-exercise, .sleep-form-grid {
        grid-template-columns: 1fr;
    }
}


/* --- SR Only --- */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* --- TAREFAS PAGE STYLES (from Tarefas.html) --- */
#page-tarefas .container header {
    text-align: left;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: 20px;
    padding-bottom: 15px;
}
#page-tarefas .container header h1 {
    color: var(--color-tarefas); /* Specific color for tasks page */
    font-size: 2rem;
    display: flex;
    align-items: center;
}
#page-tarefas .task-count {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-color-muted);
    margin-top: 10px;
}
#page-tarefas .task-count .count-item { display: flex; align-items: center; gap: 5px; }
#page-tarefas .task-count .count-item strong { color: var(--text-color); font-weight: 600; }

#page-tarefas .controls-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
}

#page-tarefas .categories-container { margin-bottom: 0; }
#page-tarefas .categories-container h2 { font-size: 1.2rem; color: var(--text-color-muted); margin-bottom: 10px; display: none; /* Title is implicit now */ }
#page-tarefas .categories { display: flex; flex-wrap: wrap; gap: 8px; }
#page-tarefas .category-tag {
    padding: 6px 12px;
    border-radius: 15px;
    background-color: var(--card-background-color);
    border: 1px solid var(--border-color);
    color: var(--text-color-muted);
    font-size: 0.85rem;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s, border-color 0.2s;
}
#page-tarefas .category-tag:hover, #page-tarefas .category-tag.active {
    background-color: var(--color-tarefas);
    color: var(--text-color-light);
    border-color: var(--color-tarefas);
}
#page-tarefas .category-tag.add-new {
    background-color: transparent;
    border-style: dashed;
}
#page-tarefas .category-tag.add-new:hover {
    background-color: rgba(var(--color-tarefas-rgb), 0.1);
    color: var(--color-tarefas);
}

#page-tarefas .view-toggle {
    display: flex;
    background-color: var(--background-color);
    border-radius: var(--card-border-radius);
    padding: 4px;
    border: 1px solid var(--border-color);
}
#page-tarefas .view-btn {
    padding: 6px 12px;
    border: none;
    background-color: transparent;
    color: var(--text-color-muted);
    font-size: 0.9rem;
    font-weight: 500;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
}
#page-tarefas .view-btn:hover {
    background-color: rgba(var(--color-tarefas-rgb), 0.1);
}
#page-tarefas .view-btn.active {
    background-color: var(--color-tarefas);
    color: var(--text-color-light);
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}


#page-tarefas .search-filter { display: flex; gap: 15px; margin-bottom: 20px; align-items: center; flex-wrap: wrap; }
#page-tarefas .search-box { position: relative; flex-grow: 1; min-width: 250px; }
#page-tarefas #search-input {
    width: 100%;
    padding: 10px 15px 10px 40px; /* Left padding for icon */
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
html.dark-mode #page-tarefas #search-input,
html.dark-mode #page-tarefas .filter-select {
    background-color: var(--card-background-color-dark);
    color: var(--text-color);
    border-color: var(--border-color-dark);
}

#page-tarefas .search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-color-muted);
}
#page-tarefas .filter-select {
    padding: 10px 15px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
    min-width: 180px;
}

#page-tarefas .task-input-group { display: flex; gap: 10px; margin-bottom: 25px; }
#page-tarefas .task-input-wrapper { flex-grow: 1; }
#page-tarefas #quick-task-input {
    width: 100%;
    padding: 12px 15px;
    font-size: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
html.dark-mode #page-tarefas #quick-task-input {
    background-color: var(--card-background-color-dark);
    color: var(--text-color);
    border-color: var(--border-color-dark);
}
#page-tarefas #add-task-btn {
    background-color: var(--color-tarefas); /* Specific color */
    padding-left: 20px; padding-right: 20px; /* More padding for a primary action button */
}
#page-tarefas #add-task-btn:hover { 
    filter: brightness(0.9);
}

/* --- New Layout for Tarefas page --- */
.task-page-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
}
@media (min-width: 992px) {
    .task-page-layout {
        grid-template-columns: 2fr 1fr;
    }
}

#category-chart-container {
    position: relative;
    height: 300px; /* Adjust as needed */
    margin-top: 20px;
}


#page-tarefas .table-wrapper {
    overflow-x: auto;
    border: 1px solid var(--border-color);
    border-radius: var(--card-border-radius);
    background-color: var(--card-background-color);
}
#page-tarefas table { width: 100%; border-collapse: collapse; }
#page-tarefas th, #page-tarefas td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
    vertical-align: middle;
}
#page-tarefas thead th {
    background-color: rgba(var(--color-tarefas-rgb), 0.05);
    font-weight: 600;
    color: var(--text-color-muted);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
html.dark-mode #page-tarefas thead th {
    background-color: rgba(var(--color-tarefas-rgb), 0.15);
}
#page-tarefas tbody tr:last-child td { border-bottom: none; }
#page-tarefas tbody tr:hover { background-color: rgba(var(--color-tarefas-rgb), 0.03); }
html.dark-mode #page-tarefas tbody tr:hover { background-color: rgba(var(--color-tarefas-rgb), 0.1); }

#page-tarefas .task-checkbox { width: 18px; height: 18px; cursor: pointer; }
#page-tarefas .task-title { font-weight: 500; color: var(--text-color); display: block; margin-bottom: 3px; }
#page-tarefas .task-description-preview { font-size: 0.85rem; color: var(--text-color-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 300px; display: block;}
#page-tarefas .priority-tag {
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    color: #fff;
}
#page-tarefas .priority-low { background-color: var(--color-info); }
#page-tarefas .priority-medium { background-color: var(--color-warning); color: var(--text-color); }
#page-tarefas .priority-high { background-color: var(--color-error); }
#page-tarefas .task-category-badge {
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 0.75rem;
    background-color: var(--color-secondary);
    color: #fff;
    display: inline-block;
}
#page-tarefas .task-actions-cell { text-align: right !important; white-space: nowrap; }
#page-tarefas .action-btn {
    background: none; border: none; color: var(--text-color-muted);
    font-size: 1rem; cursor: pointer; padding: 5px; margin-left: 5px;
    transition: color 0.2s;
}
#page-tarefas .action-btn:hover { color: var(--color-primary); }
#page-tarefas .action-btn.delete:hover { color: var(--color-error); }
#page-tarefas tr.completed .task-title, #page-tarefas tr.completed .task-description-preview { text-decoration: line-through; color: var(--text-color-muted); opacity: 0.7; }

#page-tarefas .pagination { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; font-size: 0.9rem; color: var(--text-color-muted); }
#page-tarefas .pagination-btns { display: flex; gap: 5px; align-items: center; }
#page-tarefas .pagination .btn-icon { padding: 6px 10px; }
#page-tarefas .pagination .page-number { margin: 0 5px; }


/* --- CHECKLIST VIEW STYLES --- */
#checklist-view-container {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.checklist-category-group {
    background-color: var(--card-background-color);
    border-radius: var(--card-border-radius);
    padding: 15px 20px;
    border: 1px solid var(--border-color);
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.checklist-category-title {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--color-tarefas);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
}

.checklist-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 5px;
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.2s;
}
.checklist-item:last-child {
    border-bottom: none;
}
.checklist-item:hover {
    background-color: rgba(var(--color-tarefas-rgb), 0.04);
}
html.dark-mode .checklist-item:hover {
    background-color: rgba(var(--color-tarefas-rgb), 0.1);
}

.checklist-item-checkbox {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    accent-color: var(--color-tarefas);
    cursor: pointer;
}

.checklist-item-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.checklist-item-title {
    font-weight: 500;
    font-size: 1.05rem;
    color: var(--text-color);
    transition: color 0.3s;
}

.checklist-item-details {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 0.8rem;
    color: var(--text-color-muted);
    margin-top: 4px;
}
.checklist-item-details > div {
    display: flex;
    align-items: center;
    gap: 4px;
}
.checklist-item-priority .priority-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}
.checklist-item-priority .priority-dot-low { background-color: var(--color-info); }
.checklist-item-priority .priority-dot-medium { background-color: var(--color-warning); }
.checklist-item-priority .priority-dot-high { background-color: var(--color-error); }


.checklist-item-actions {
    display: flex;
    gap: 5px;
    opacity: 0;
    transition: opacity 0.2s;
}
.checklist-item:hover .checklist-item-actions {
    opacity: 1;
}

/* Completed State for Checklist Item */
.checklist-item.completed {
    opacity: 0.6;
}
.checklist-item.completed .checklist-item-title {
    text-decoration: line-through;
    color: var(--text-color-muted);
}


/* Modal specific for Gerenciar Tarefas */
#task-modal-gerenciar-tarefas {
    /* Uses .modal-overlay, .modal-content general styles */
}
#task-modal-gerenciar-tarefas .task-modal-content {
    max-width: 550px; /* Slightly smaller than default modal */
}
#task-modal-gerenciar-tarefas .modal-header h2 { color: var(--color-tarefas); }
#task-modal-gerenciar-tarefas .form-group { margin-bottom: 15px; }
#task-modal-gerenciar-tarefas .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--text-color-muted);
}
#task-modal-gerenciar-tarefas .form-group input[type="text"],
#task-modal-gerenciar-tarefas .form-group input[type="date"],
#task-modal-gerenciar-tarefas .form-group textarea,
#task-modal-gerenciar-tarefas .form-group select {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    background-color: var(--card-background-color);
    color: var(--text-color);
}
#task-modal-gerenciar-tarefas .form-group textarea { 
    min-height: 120px; /* Increased from 80px */
}
#task-modal-gerenciar-tarefas .modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid var(--border-color);
}
#task-modal-gerenciar-tarefas .modal-actions .btn-primary { background-color: var(--color-tarefas); }
#task-modal-gerenciar-tarefas .modal-actions .btn-primary:hover { 
    filter: brightness(0.9);
}


/* Responsive Adjustments */
@media (max-width: 768px) {
    #main-content {
        margin-left: var(--sidebar-width-collapsed); /* Or 0 if sidebar overlays */
        width: calc(100% - var(--sidebar-width-collapsed)); /* Or 100% */
        padding: 15px;
    }
    .sidebar {
        /* Example: Sidebar could become an overlay on mobile */
        /* position: fixed; transform: translateX(-100%); transition: transform 0.3s ease; */
        /* &.open { transform: translateX(0); } */
    }
    .inicio {
        grid-template-columns: 1fr; /* Single column for cards on mobile */
    }
    .page-section header h1 {
        font-size: 1.5rem;
    }
    .fab-button {
        width: 45px;
        height: 45px;
        font-size: 1.3rem;
    }
     .theme-toggle-button { right: 15px; bottom: 15px;}
     .rain-sound-button { left: 15px; bottom: 15px; } 

    #page-tarefas .search-filter, #page-tarefas .controls-bar { flex-direction: column; gap: 10px; align-items: stretch; }
    #page-tarefas .task-input-group { flex-direction: column; gap: 10px; }
    #page-tarefas #add-task-btn { width: 100%; }
    #page-tarefas .pagination { flex-direction: column; gap: 10px; }
    #page-tarefas .table-wrapper { font-size: 0.9rem; } 
    #page-tarefas th, #page-tarefas td { padding: 8px 10px; }
}

@media (max-width: 480px) {
    .modal-content {
        width: 95%;
        padding: 20px;
    }
    .modal-header h2 { font-size: 1.3rem; }
    .pdca-step h3 { font-size: 1.1rem; }

    #page-planejamento-diario .daily-plan-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    #page-planejamento-diario .daily-plan-controls {
        width: 100%;
        justify-content: space-between;
    }
    #daily-tasks-section .section-header-controls {
        flex-direction: column;
        align-items: flex-start;
        gap:10px;
    }
    #daily-tasks-section .section-header-controls .controls {
        width: 100%;
        justify-content: space-between;
    }
    .task-main-info {
        flex-direction: column;
        align-items: flex-start;
    }
    .task-actions {
        width: 100%;
        justify-content: flex-start; 
        padding-left: 0;
        margin-top: 10px;
    }
}

/* Highlight for scrolling to anchor links */
@keyframes highlight-fade {
  from { background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.2); }
  to { background-color: transparent; }
}

.highlight-on-scroll {
  animation: highlight-fade 2s ease-out;
}

/* --- Stretching Guide Styles --- */
.stretching-guide-wrapper {
    margin-top: 15px;
    margin-bottom: 15px;
    padding: 20px;
    background-color: rgba(var(--section-color-rgb, var(--color-primary-rgb)), 0.03);
    border-radius: var(--card-border-radius);
    border: 1px solid var(--border-color);
}

.guide-title {
    font-size: 1.3rem;
    color: var(--section-color, var(--color-primary));
    margin-bottom: 5px;
    text-align: center;
    font-weight: 600;
}

.guide-subtitle {
    font-size: 0.9rem;
    color: var(--text-color-muted);
    text-align: center;
    margin-bottom: 20px;
}

.stretching-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 15px;
}

.stretch-card {
    background-color: var(--card-background-color);
    border: 1px solid var(--border-color);
    border-left: 4px solid var(--color-fisica);
    border-radius: var(--card-border-radius);
    padding: 15px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stretch-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--card-shadow);
}

.stretch-card h5 {
    font-size: 1rem;
    margin-top: 0;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-color);
}

.stretch-card p {
    font-size: 0.88rem;
    line-height: 1.5;
    margin-bottom: 0;
    color: var(--text-color-muted);
}

.stretching-guide-image-container {
    margin-top: 20px;
    text-align: center; 
}

.stretching-guide-image-container img {
    max-width: 100%;
    height: auto;
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-shadow);
    border: 1px solid var(--border-color);
}

/* Print specific styles */
@media print {
    body, html {
        background-color: #fff !important;
        color: #000 !important;
        -webkit-print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    .sidebar, #sidebar-menu, .fab-button, #sidebar-toggle, .modal-container, #toast-notification-container {
        display: none !important;
    }

    #main-content .page-section:not(.active) {
        display: none !important;
    }
    
    #main-content .page-section.active {
        display: block !important;
        animation: none !important;
        box-shadow: none !important;
        border: none !important;
    }
    
    .page-section.active .back-button-wrapper, 
    .page-section.active footer,
    .page-section.active .daily-plan-controls .standard-button, 
    .page-section.active .daily-plan-controls .toggle-label,
    .page-section.active .task-actions .standard-button-danger,
    .page-section.active .ai-suggestion-btn,
    .page-section.active .mic-button {
        display: none !important;
    }

    #main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 0 !important;
    }

    .container {
        max-width: 100% !important;
        padding: 10px !important;
    }

    .content-section {
        box-shadow: none !important;
        border: 1px solid #ccc !important;
        padding: 15px !important;
        margin-bottom: 15px !important;
        page-break-inside: avoid;
    }

    #page-planejamento-diario .daily-plan-header h1 {
        font-size: 1.8rem !important;
    }
    #daily-plan-date {
        border: none !important;
        font-weight: bold !important;
    }
    .progress-ring-container {
        border: 1------ START OF FILE index.html ---

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pequenos Passos para uma Vida Extraordinária: Dashboard Completo (Tudo em Um)</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.10.0",
    "path": "https://esm.sh/path@^0.12.7",
    "vite": "https://esm.sh/vite@^7.0.5",
    "dompurify": "https://esm.sh/dompurify@^3.2.6",
    "@vitejs/plugin-basic-ssl": "https://esm.sh/@vitejs/plugin-basic-ssl@^2.1.0"
  }
}
</script>
</head>
<body class="sidebar-collapsed"> <!-- Default to collapsed, JS will adjust based on screen/localStorage -->

    <nav id="sidebar-menu" class="sidebar collapsed">
        <button id="sidebar-toggle" class="sidebar-toggle-button" aria-label="Alternar menu lateral" aria-expanded="false">
            <i class="fas fa-bars"></i>
        </button>
        <ul class="sidebar-links">
            <li><a href="#" title="Início" class="sidebar-link" data-page="inicio"><i class="fas fa-home fa-fw"></i><span class="sidebar-text">Início</span></a></li>
            <li><a href="#" title="Saúde Física" class="sidebar-link" data-page="fisica"><i class="fas fa-heartbeat fa-fw"></i><span class="sidebar-text">Física</span></a></li>
            <li><a href="#" title="Saúde Mental" class="sidebar-link" data-page="mental"><i class="fas fa-brain fa-fw"></i><span class="sidebar-text">Mental</span></a></li>
            <li><a href="#" title="Saúde Financeira" class="sidebar-link" data-page="financeira"><i class="fas fa-dollar-sign fa-fw"></i><span class="sidebar-text">Financeira</span></a></li>
            <li><a href="#" title="Saúde Familiar" class="sidebar-link" data-page="familiar"><i class="fas fa-users fa-fw"></i><span class="sidebar-text">Familiar</span></a></li>
            <li><a href="#" title="Saúde Profissional" class="sidebar-link" data-page="profissional"><i class="fas fa-briefcase fa-fw"></i><span class="sidebar-text">Profissional</span></a></li>
            <li><a href="#" title="Saúde Social" class="sidebar-link" data-page="social"><i class="fas fa-comments fa-fw"></i><span class="sidebar-text">Social</span></a></li>
            <li><a href="#" title="Saúde Espiritual" class="sidebar-link" data-page="espiritual"><i class="fas fa-om fa-fw"></i><span class="sidebar-text">Espiritual</span></a></li>
            <li><a href="#" title="Saúde Preventiva" class="sidebar-link" data-page="preventiva"><i class="fas fa-shield-alt fa-fw"></i><span class="sidebar-text">Preventiva</span></a></li>
            <li><a href="#" title="Contrato de Compromisso" class="sidebar-link" data-page="avaliacao-card"><i class="fas fa-file-signature fa-fw"></i><span class="sidebar-text">Contrato</span></a></li>
            <li><a href="#" title="Planejamento e Tarefas" class="sidebar-link" data-page="planejamento-diario"><i class="fas fa-tasks fa-fw"></i><span class="sidebar-text">Planejamento</span></a></li>
        </ul>
    </nav>

    <main id="main-content">
        <!-- Page content will be loaded here dynamically -->
    </main>

    <!-- Global Floating Action Buttons and Audio -->
    <button id="theme-toggle" class="fab-button theme-toggle-button" aria-label="Alternar para modo escuro">
        <i id="theme-toggle-icon" class="fas fa-moon"></i>
    </button>
    <button id="rain-sound-toggle" class="fab-button rain-sound-button" aria-label="Tocar som de chuva">
        <i class="fas fa-cloud-rain"></i>
    </button>
    <audio id="rain-sound" src="https://www.soundjay.com/nature/sounds/rain-03.mp3" loop></audio>

    <!-- Contract Modal -->
    <div id="contract-modal" class="modal-container" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="contract-modal-title-static">
        <div class="modal-content large-modal-content">
            <header class="modal-header">
                <h2 id="contract-modal-title-static">Contrato de Compromisso Pessoal</h2>
                <button id="contract-modal-close-btn" class="modal-close-button" aria-label="Fechar Contrato"><i class="fas fa-times"></i></button>
            </header>
            <div id="contract-modal-body" class="modal-body">
                <form id="contract-form">
                    <p>Eu, <input type="text" id="contract-name" placeholder="Seu Nome Completo" class="inline-input" required>, portador(a) do CPF <input type="text" id="contract-cpf" placeholder="000.000.000-00" class="inline-input">, nascido(a) em <input type="date" id="contract-birthdate" class="inline-input">, residente em <input type="text" id="contract-address" placeholder="Seu Endereço" class="inline-input">, firmo este contrato de compromisso pessoal e intransferível comigo mesmo(a).</p>
                    
                    <div class="form-group">
                        <label for="contract-commitment"><strong>Cláusula 1: O Compromisso</strong></label>
                        <p>Comprometo-me a dedicar tempo, energia e esforço para melhorar minha saúde e bem-estar em todas as áreas da minha vida, reconhecendo que pequenas ações consistentes levam a grandes transformações. Este compromisso é um ato de autocuidado e amor-próprio.</p>
                        <div class="input-wrapper textarea-wrapper">
                            <textarea id="contract-commitment" rows="4" placeholder="Detalhe seu compromisso pessoal aqui. Ex: Comprometo-me a ser mais paciente comigo mesmo(a) e a celebrar cada pequena vitória no meu processo de desenvolvimento..."></textarea>
                            <button type="button" id="contract-commitment-ai-btn" class="ai-suggestion-btn" title="Sugerir com IA"><i class="fas fa-wand-magic-sparkles"></i><i class="fas fa-spinner fa-spin"></i></button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contract-period"><strong>Cláusula 2: O Prazo</strong></label>
                        <p>Este contrato é válido pelo período de <input type="text" id="contract-period" placeholder="Ex: 90 dias, 6 meses, 1 ano" class="inline-input">, a contar da data de assinatura, podendo ser renovado e reavaliado conforme meu progresso e novas metas.</p>
                    </div>

                    <div class="form-group">
                        <label for="contract-goals"><strong>Cláusula 3: As Metas</strong></label>
                        <p>Durante a vigência deste contrato, focarei em alcançar as seguintes metas principais (seja específico):</p>
                         <div class="input-wrapper textarea-wrapper">
                            <textarea id="contract-goals" rows="6" placeholder="Ex: 1. Saúde Física: Perder 5kg e correr 5km. 2. Saúde Financeira: Economizar R$1000 para a reserva de emergência. 3. Saúde Mental: Praticar meditação 3x por semana..."></textarea>
                            <button type="button" id="contract-goals-ai-btn" class="ai-suggestion-btn" title="Sugerir com IA"><i class="fas fa-wand-magic-sparkles"></i><i class="fas fa-spinner fa-spin"></i></button>
                        </div>
                    </div>

                     <div class="form-group signature-group">
                        <label for="contract-date"><strong>Assinatura e Data</strong></label>
                        <p>Assino o presente contrato em sinal de meu comprometimento e determinação.</p>
                        <div class="signature-line-container">
                             <input type="text" id="contract-signature" class="signature-input" placeholder="Digite seu nome para assinar" required>
                             <input type="date" id="contract-date" required>
                        </div>
                    </div>
                </form>
            </div>
            <footer id="contract-modal-actions" class="modal-footer">
                <button type="button" id="contract-modal-print-btn" class="standard-button-secondary"><i class="fas fa-print"></i> Imprimir</button>
                <button type="button" id="contract-modal-cancel-btn" class="standard-button-secondary">Fechar</button>
                <button type="button" id="contract-modal-save-btn" class="standard-button"><i class="fas fa-save"></i> Salvar Contrato</button>
            </footer>
        </div>
    </div>

    <!-- Gerenciar Tarefas Modal Structure -->
    <div id="task-modal-gerenciar-tarefas" class="modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title-tarefas" style="display: none;"> <!-- Changed from modal-overlay to modal-container -->
        <div class="modal-content task-modal-content">
            <header class="modal-header">
                <h2 id="modal-title-tarefas">Adicionar Tarefa</h2>
                <button id="task-modal-close-btn" class="close-modal modal-close-button" aria-label="Fechar modal de tarefa"><i class="fas fa-times"></i></button>
            </header>
            <form id="task-form-gerenciar-tarefas">
                 <div class="modal-body"> <!-- Added modal-body for consistent scrolling -->
                    <div class="form-group">
                        <label for="modal-task-title">Título:</label>
                        <div class="input-wrapper">
                            <input type="text" id="modal-task-title" name="title" required>
                            <button type="button" id="modal-task-title-ai-btn" class="ai-suggestion-btn" title="Sugerir com IA"><i class="fas fa-wand-magic-sparkles"></i><i class="fas fa-spinner fa-spin"></i></button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-description">Descrição:</label>
                        <div class="input-wrapper textarea-wrapper">
                            <textarea id="modal-task-description" name="description" rows="5"></textarea>
                            <button type="button" id="modal-task-description-ai-btn" class="ai-suggestion-btn" title="Sugerir com IA"><i class="fas fa-wand-magic-sparkles"></i><i class="fas fa-spinner fa-spin"></i></button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-due-date">Data de Vencimento:</label>
                        <input type="date" id="modal-task-due-date" name="dueDate">
                    </div>
                    <div class="form-group">
                        <label for="modal-task-priority">Prioridade:</label>
                        <select id="modal-task-priority" name="priority">
                            <option value="low">Baixa</option>
                            <option value="medium" selected>Média</option>
                            <option value="high">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modal-task-category">Categoria:</label>
                        <select id="modal-task-category" name="category">
                            <option value="">Nenhuma</option>
                            <!-- Categories will be populated here by JS from Tarefas.html logic -->
                        </select>
                    </div>
                </div> <!-- End modal-body -->
                <div class="modal-footer modal-actions"> <!-- Combined classes for styling -->
                    <button type="submit" class="btn btn-primary standard-button">Salvar Tarefa</button>
                    <button type="button" class="btn btn-outline standard-button-secondary" id="cancel-task-btn-gerenciar-tarefas">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Indicator Chart Modal -->
    <div id="indicator-chart-modal" class="modal-container" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="indicator-chart-modal-title">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="indicator-chart-modal-title">Histórico do Indicador</h2>
                <button id="indicator-chart-modal-close-btn" class="modal-close-button" aria-label="Fechar Gráfico"><i class="fas fa-times"></i></button>
            </header>
            <div class="modal-body">
                <div id="indicator-chart-container">
                     <canvas id="indicator-chart-canvas"></canvas>
                </div>
                <p id="indicator-chart-no-data" style="display: none; text-align: center; padding: 20px;"></p>
            </div>
            <footer class="modal-footer">
                <button type="button" id="indicator-chart-modal-cancel-btn" class="standard-button-secondary">Fechar</button>
            </footer>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-notification-container" aria-live="assertive" aria-atomic="true"></div>

    <script type="module" src="index.tsx"></script>
</body>
</html>